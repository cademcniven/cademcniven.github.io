<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <title>Cade McNiven's Site</title>
    </head>
    <body>
        <aside>
            <span class="sidebarContent">
                <img src="images/face.jpg">
                <div class="sidebarTitle">Cade's Site & Blog</div>
                <div class="sidebarSubTitle">Developer & Language Learner</div>
                <nav>
                    <a href="index.html">Posts</a> /
                    <a href="projects.html">Projects</a> /
                    <a href="japaneseresources.html">Japanese Resources</a>
                </nav>
            </span>
        </aside>
        <main>
            <div class="mainContent">
                <h1>JAGloss</h1>
                <p>A Japanese sentence glossing tool for Anki</p>
                <p><img src="images\jagloss\demo.gif"
                        referrerpolicy="no-referrer"></p>
                <p>&nbsp;</p>
                <h2>Features</h2>
                <ul>
                    <li>Automatically find words in a Japanese sentence and
                        highlight them</li>
                    <li>Click a highlighted word to show its definition and
                        reading</li>
                    <li>External links to Wikitionary and goo </li>
                    <li>All <a href='/kanjihover.html'>Kanji Hover</a> features
                        (Kanji hover is contained within this script, no need to
                        include it separately)</li>
                    <li><a
                            href='https://github.com/SimonLammer/anki-persistence'>Anki
                            Persistence</a> for near-instantaneous loads</li>
                    <li>Customizable options to fit your card layout</li>
                    <li>Can be applied to multiple sections of the card at once</li>
                </ul>
                <p>&nbsp;</p>
                <h2>How To Use</h2>
                <p>I apologize, but the setup is a bit involved.</p>
                <p>If you want to skip the setup, you can just download my <a
                        href='notetype.html'>custom note type</a></p>
                <p>&nbsp;</p>
                <p><strong>Step 1</strong></p>
                <p>Add the following script to the <strong>back</strong> of the
                    card. </p>
                <p>&nbsp;</p>
                <p><strong>Note:</strong> I&#39;m not entirely sure why, but at
                    some point in development it stopped working when I tried to
                    load the script as an external file, which is why you have
                    to include this chunk on the card itself. If you figure out
                    how to make it work as an external file, let me know.</p>
                <pre><code>&lt;script&gt;const ignore=[&quot;が&quot;,&quot;の&quot;,&quot;を&quot;,&quot;に&quot;,&quot;へ&quot;,&quot;と&quot;,&quot;で&quot;,&quot;から&quot;,&quot;より&quot;,&quot;さ&quot;,&quot;よ&quot;,&quot;ね&quot;,&quot;は&quot;,&quot;て&quot;,&quot;し&quot;,&quot;さん&quot;,&quot;ます&quot;,&quot;な&quot;,&quot;こと&quot;,&quot;う&quot;,&quot;。&quot;,&quot;ば&quot;,&quot;た&quot;,&quot;も&quot;,&quot;０&quot;,&quot;１&quot;,&quot;２&quot;,&quot;３&quot;,&quot;４&quot;,&quot;５&quot;,&quot;６&quot;,&quot;７&quot;,&quot;８&quot;,&quot;９&quot;,&quot;だ&quot;,&quot;か&quot;,&quot;ず&quot;,&quot;い&quot;],inputField=&quot;JAGlossInput&quot;,outputField=&quot;JAGlossOutput&quot;,kanjiHover=&quot;kanjiHover&quot;,dictionary=&quot;_JADict.json&quot;;if(void 0===window.Persistence){var _persistenceKey=&quot;github.com/SimonLammer/anki-persistence/&quot;,_defaultKey=&quot;_default&quot;;if(window.Persistence_sessionStorage=function(){var t=!1;try{&quot;object&quot;==typeof window.sessionStorage&amp;&amp;(t=!0,this.clear=function(){for(var t=0;t&lt;sessionStorage.length;t++){var e=sessionStorage.key(t);0==e.indexOf(_persistenceKey)&amp;&amp;(sessionStorage.removeItem(e),t--)}},this.setItem=function(t,e){null==e&amp;&amp;(e=t,t=_defaultKey),sessionStorage.setItem(_persistenceKey+t,JSON.stringify(e))},this.getItem=function(t){return null==t&amp;&amp;(t=_defaultKey),JSON.parse(sessionStorage.getItem(_persistenceKey+t))},this.removeItem=function(t){null==t&amp;&amp;(t=_defaultKey),sessionStorage.removeItem(_persistenceKey+t)})}catch(t){}this.isAvailable=function(){return t}},window.Persistence_windowKey=function(t){var e=window[t],i=!1;&quot;object&quot;==typeof e&amp;&amp;(i=!0,this.clear=function(){e[_persistenceKey]={}},this.setItem=function(t,i){null==i&amp;&amp;(i=t,t=_defaultKey),e[_persistenceKey][t]=i},this.getItem=function(t){return null==t&amp;&amp;(t=_defaultKey),e[_persistenceKey][t]||null},this.removeItem=function(t){null==t&amp;&amp;(t=_defaultKey),delete e[_persistenceKey][t]},null==e[_persistenceKey]&amp;&amp;this.clear()),this.isAvailable=function(){return i}},window.Persistence=new Persistence_sessionStorage,Persistence.isAvailable()||(window.Persistence=new Persistence_windowKey(&quot;py&quot;)),!Persistence.isAvailable()){var titleStartIndex=window.location.toString().indexOf(&quot;title&quot;),titleContentIndex=window.location.toString().indexOf(&quot;main&quot;,titleStartIndex);titleStartIndex&gt;0&amp;&amp;titleContentIndex&gt;0&amp;&amp;titleContentIndex-titleStartIndex&lt;10&amp;&amp;(window.Persistence=new Persistence_windowKey(&quot;qt&quot;))}}function TinySegmenter(){var t={&quot;[一二三四五六七八九十百千万億兆]&quot;:&quot;M&quot;,&quot;[一-龠々〆ヵヶ]&quot;:&quot;H&quot;,&quot;[ぁ-ん]&quot;:&quot;I&quot;,&quot;[ァ-ヴーｱ-ﾝﾞｰ]&quot;:&quot;K&quot;,&quot;[a-zA-Zａ-ｚＡ-Ｚ]&quot;:&quot;A&quot;,&quot;[0-9０-９]&quot;:&quot;N&quot;};for(var e in this.chartype_=[],t){var i=new RegExp;i.compile(e),this.chartype_.push([i,t[e]])}return this.BIAS__=-332,this.BC1__={HH:6,II:2461,KH:406,OH:-1378},this.BC2__={AA:-3267,AI:2744,AN:-878,HH:-4070,HM:-1711,HN:4012,HO:3761,IA:1327,IH:-1184,II:-1332,IK:1721,IO:5492,KI:3831,KK:-8741,MH:-3132,MK:3334,OO:-2920},this.BC3__={HH:996,HI:626,HK:-721,HN:-1307,HO:-836,IH:-301,KK:2762,MK:1079,MM:4034,OA:-1652,OH:266},this.BP1__={BB:295,OB:304,OO:-125,UB:352},this.BP2__={BO:60,OO:-1762},this.BQ1__={BHH:1150,BHM:1521,BII:-1158,BIM:886,BMH:1208,BNH:449,BOH:-91,BOO:-2597,OHI:451,OIH:-296,OKA:1851,OKH:-1020,OKK:904,OOO:2965},this.BQ2__={BHH:118,BHI:-1159,BHM:466,BIH:-919,BKK:-1720,BKO:864,OHH:-1139,OHM:-181,OIH:153,UHI:-1146},this.BQ3__={BHH:-792,BHI:2664,BII:-299,BKI:419,BMH:937,BMM:8335,BNN:998,BOH:775,OHH:2174,OHM:439,OII:280,OKH:1798,OKI:-793,OKO:-2242,OMH:-2402,OOO:11699},this.BQ4__={BHH:-3895,BIH:3761,BII:-4654,BIK:1348,BKK:-1806,BMI:-3385,BOO:-12396,OAH:926,OHH:266,OHK:-2036,ONN:-973},this.BW1__={&quot;,と&quot;:660,&quot;,同&quot;:727,&quot;B1あ&quot;:1404,&quot;B1同&quot;:542,&quot;、と&quot;:660,&quot;、同&quot;:727,&quot;」と&quot;:1682,&quot;あっ&quot;:1505,&quot;いう&quot;:1743,&quot;いっ&quot;:-2055,&quot;いる&quot;:672,&quot;うし&quot;:-4817,&quot;うん&quot;:665,&quot;から&quot;:3472,&quot;がら&quot;:600,&quot;こう&quot;:-790,&quot;こと&quot;:2083,&quot;こん&quot;:-1262,&quot;さら&quot;:-4143,&quot;さん&quot;:4573,&quot;した&quot;:2641,&quot;して&quot;:1104,&quot;すで&quot;:-3399,&quot;そこ&quot;:1977,&quot;それ&quot;:-871,&quot;たち&quot;:1122,&quot;ため&quot;:601,&quot;った&quot;:3463,&quot;つい&quot;:-802,&quot;てい&quot;:805,&quot;てき&quot;:1249,&quot;でき&quot;:1127,&quot;です&quot;:3445,&quot;では&quot;:844,&quot;とい&quot;:-4915,&quot;とみ&quot;:1922,&quot;どこ&quot;:3887,&quot;ない&quot;:5713,&quot;なっ&quot;:3015,&quot;など&quot;:7379,&quot;なん&quot;:-1113,&quot;にし&quot;:2468,&quot;には&quot;:1498,&quot;にも&quot;:1671,&quot;に対&quot;:-912,&quot;の一&quot;:-501,&quot;の中&quot;:741,&quot;ませ&quot;:2448,&quot;まで&quot;:1711,&quot;まま&quot;:2600,&quot;まる&quot;:-2155,&quot;やむ&quot;:-1947,&quot;よっ&quot;:-2565,&quot;れた&quot;:2369,&quot;れで&quot;:-913,&quot;をし&quot;:1860,&quot;を見&quot;:731,&quot;亡く&quot;:-1886,&quot;京都&quot;:2558,&quot;取り&quot;:-2784,&quot;大き&quot;:-2604,&quot;大阪&quot;:1497,&quot;平方&quot;:-2314,&quot;引き&quot;:-1336,&quot;日本&quot;:-195,&quot;本当&quot;:-2423,&quot;毎日&quot;:-2113,&quot;目指&quot;:-724,&quot;Ｂ１あ&quot;:1404,&quot;Ｂ１同&quot;:542,&quot;｣と&quot;:1682},this.BW2__={&quot;..&quot;:-11822,11:-669,&quot;――&quot;:-5730,&quot;−−&quot;:-13175,&quot;いう&quot;:-1609,&quot;うか&quot;:2490,&quot;かし&quot;:-1350,&quot;かも&quot;:-602,&quot;から&quot;:-7194,&quot;かれ&quot;:4612,&quot;がい&quot;:853,&quot;がら&quot;:-3198,&quot;きた&quot;:1941,&quot;くな&quot;:-1597,&quot;こと&quot;:-8392,&quot;この&quot;:-4193,&quot;させ&quot;:4533,&quot;され&quot;:13168,&quot;さん&quot;:-3977,&quot;しい&quot;:-1819,&quot;しか&quot;:-545,&quot;した&quot;:5078,&quot;して&quot;:972,&quot;しな&quot;:939,&quot;その&quot;:-3744,&quot;たい&quot;:-1253,&quot;たた&quot;:-662,&quot;ただ&quot;:-3857,&quot;たち&quot;:-786,&quot;たと&quot;:1224,&quot;たは&quot;:-939,&quot;った&quot;:4589,&quot;って&quot;:1647,&quot;っと&quot;:-2094,&quot;てい&quot;:6144,&quot;てき&quot;:3640,&quot;てく&quot;:2551,&quot;ては&quot;:-3110,&quot;ても&quot;:-3065,&quot;でい&quot;:2666,&quot;でき&quot;:-1528,&quot;でし&quot;:-3828,&quot;です&quot;:-4761,&quot;でも&quot;:-4203,&quot;とい&quot;:1890,&quot;とこ&quot;:-1746,&quot;とと&quot;:-2279,&quot;との&quot;:720,&quot;とみ&quot;:5168,&quot;とも&quot;:-3941,&quot;ない&quot;:-2488,&quot;なが&quot;:-1313,&quot;など&quot;:-6509,&quot;なの&quot;:2614,&quot;なん&quot;:3099,&quot;にお&quot;:-1615,&quot;にし&quot;:2748,&quot;にな&quot;:2454,&quot;によ&quot;:-7236,&quot;に対&quot;:-14943,&quot;に従&quot;:-4688,&quot;に関&quot;:-11388,&quot;のか&quot;:2093,&quot;ので&quot;:-7059,&quot;のに&quot;:-6041,&quot;のの&quot;:-6125,&quot;はい&quot;:1073,&quot;はが&quot;:-1033,&quot;はず&quot;:-2532,&quot;ばれ&quot;:1813,&quot;まし&quot;:-1316,&quot;まで&quot;:-6621,&quot;まれ&quot;:5409,&quot;めて&quot;:-3153,&quot;もい&quot;:2230,&quot;もの&quot;:-10713,&quot;らか&quot;:-944,&quot;らし&quot;:-1611,&quot;らに&quot;:-1897,&quot;りし&quot;:651,&quot;りま&quot;:1620,&quot;れた&quot;:4270,&quot;れて&quot;:849,&quot;れば&quot;:4114,&quot;ろう&quot;:6067,&quot;われ&quot;:7901,&quot;を通&quot;:-11877,&quot;んだ&quot;:728,&quot;んな&quot;:-4115,&quot;一人&quot;:602,&quot;一方&quot;:-1375,&quot;一日&quot;:970,&quot;一部&quot;:-1051,&quot;上が&quot;:-4479,&quot;会社&quot;:-1116,&quot;出て&quot;:2163,&quot;分の&quot;:-7758,&quot;同党&quot;:970,&quot;同日&quot;:-913,&quot;大阪&quot;:-2471,&quot;委員&quot;:-1250,&quot;少な&quot;:-1050,&quot;年度&quot;:-8669,&quot;年間&quot;:-1626,&quot;府県&quot;:-2363,&quot;手権&quot;:-1982,&quot;新聞&quot;:-4066,&quot;日新&quot;:-722,&quot;日本&quot;:-7068,&quot;日米&quot;:3372,&quot;曜日&quot;:-601,&quot;朝鮮&quot;:-2355,&quot;本人&quot;:-2697,&quot;東京&quot;:-1543,&quot;然と&quot;:-1384,&quot;社会&quot;:-1276,&quot;立て&quot;:-990,&quot;第に&quot;:-1612,&quot;米国&quot;:-4268,&quot;１１&quot;:-669},this.BW3__={&quot;あた&quot;:-2194,&quot;あり&quot;:719,&quot;ある&quot;:3846,&quot;い.&quot;:-1185,&quot;い。&quot;:-1185,&quot;いい&quot;:5308,&quot;いえ&quot;:2079,&quot;いく&quot;:3029,&quot;いた&quot;:2056,&quot;いっ&quot;:1883,&quot;いる&quot;:5600,&quot;いわ&quot;:1527,&quot;うち&quot;:1117,&quot;うと&quot;:4798,&quot;えと&quot;:1454,&quot;か.&quot;:2857,&quot;か。&quot;:2857,&quot;かけ&quot;:-743,&quot;かっ&quot;:-4098,&quot;かに&quot;:-669,&quot;から&quot;:6520,&quot;かり&quot;:-2670,&quot;が,&quot;:1816,&quot;が、&quot;:1816,&quot;がき&quot;:-4855,&quot;がけ&quot;:-1127,&quot;がっ&quot;:-913,&quot;がら&quot;:-4977,&quot;がり&quot;:-2064,&quot;きた&quot;:1645,&quot;けど&quot;:1374,&quot;こと&quot;:7397,&quot;この&quot;:1542,&quot;ころ&quot;:-2757,&quot;さい&quot;:-714,&quot;さを&quot;:976,&quot;し,&quot;:1557,&quot;し、&quot;:1557,&quot;しい&quot;:-3714,&quot;した&quot;:3562,&quot;して&quot;:1449,&quot;しな&quot;:2608,&quot;しま&quot;:1200,&quot;す.&quot;:-1310,&quot;す。&quot;:-1310,&quot;する&quot;:6521,&quot;ず,&quot;:3426,&quot;ず、&quot;:3426,&quot;ずに&quot;:841,&quot;そう&quot;:428,&quot;た.&quot;:8875,&quot;た。&quot;:8875,&quot;たい&quot;:-594,&quot;たの&quot;:812,&quot;たり&quot;:-1183,&quot;たる&quot;:-853,&quot;だ.&quot;:4098,&quot;だ。&quot;:4098,&quot;だっ&quot;:1004,&quot;った&quot;:-4748,&quot;って&quot;:300,&quot;てい&quot;:6240,&quot;てお&quot;:855,&quot;ても&quot;:302,&quot;です&quot;:1437,&quot;でに&quot;:-1482,&quot;では&quot;:2295,&quot;とう&quot;:-1387,&quot;とし&quot;:2266,&quot;との&quot;:541,&quot;とも&quot;:-3543,&quot;どう&quot;:4664,&quot;ない&quot;:1796,&quot;なく&quot;:-903,&quot;など&quot;:2135,&quot;に,&quot;:-1021,&quot;に、&quot;:-1021,&quot;にし&quot;:1771,&quot;にな&quot;:1906,&quot;には&quot;:2644,&quot;の,&quot;:-724,&quot;の、&quot;:-724,&quot;の子&quot;:-1e3,&quot;は,&quot;:1337,&quot;は、&quot;:1337,&quot;べき&quot;:2181,&quot;まし&quot;:1113,&quot;ます&quot;:6943,&quot;まっ&quot;:-1549,&quot;まで&quot;:6154,&quot;まれ&quot;:-793,&quot;らし&quot;:1479,&quot;られ&quot;:6820,&quot;るる&quot;:3818,&quot;れ,&quot;:854,&quot;れ、&quot;:854,&quot;れた&quot;:1850,&quot;れて&quot;:1375,&quot;れば&quot;:-3246,&quot;れる&quot;:1091,&quot;われ&quot;:-605,&quot;んだ&quot;:606,&quot;んで&quot;:798,&quot;カ月&quot;:990,&quot;会議&quot;:860,&quot;入り&quot;:1232,&quot;大会&quot;:2217,&quot;始め&quot;:1681,&quot;市&quot;:965,&quot;新聞&quot;:-5055,&quot;日,&quot;:974,&quot;日、&quot;:974,&quot;社会&quot;:2024,&quot;ｶ月&quot;:990},this.TC1__={AAA:1093,HHH:1029,HHM:580,HII:998,HOH:-390,HOM:-331,IHI:1169,IOH:-142,IOI:-1015,IOM:467,MMH:187,OOI:-1832},this.TC2__={HHO:2088,HII:-1023,HMM:-1154,IHI:-1965,KKH:703,OII:-2649},this.TC3__={AAA:-294,HHH:346,HHI:-341,HII:-1088,HIK:731,HOH:-1486,IHH:128,IHI:-3041,IHO:-1935,IIH:-825,IIM:-1035,IOI:-542,KHH:-1216,KKA:491,KKH:-1217,KOK:-1009,MHH:-2694,MHM:-457,MHO:123,MMH:-471,NNH:-1689,NNO:662,OHO:-3393},this.TC4__={HHH:-203,HHI:1344,HHK:365,HHM:-122,HHN:182,HHO:669,HIH:804,HII:679,HOH:446,IHH:695,IHO:-2324,IIH:321,III:1497,IIO:656,IOO:54,KAK:4845,KKA:3386,KKK:3065,MHH:-405,MHI:201,MMH:-241,MMM:661,MOM:841},this.TQ1__={BHHH:-227,BHHI:316,BHIH:-132,BIHH:60,BIII:1595,BNHH:-744,BOHH:225,BOOO:-908,OAKK:482,OHHH:281,OHIH:249,OIHI:200,OIIH:-68},this.TQ2__={BIHH:-1401,BIII:-1033,BKAK:-543,BOOO:-5591},this.TQ3__={BHHH:478,BHHM:-1073,BHIH:222,BHII:-504,BIIH:-116,BIII:-105,BMHI:-863,BMHM:-464,BOMH:620,OHHH:346,OHHI:1729,OHII:997,OHMH:481,OIHH:623,OIIH:1344,OKAK:2792,OKHH:587,OKKA:679,OOHH:110,OOII:-685},this.TQ4__={BHHH:-721,BHHM:-3604,BHII:-966,BIIH:-607,BIII:-2181,OAAA:-2763,OAKK:180,OHHH:-294,OHHI:2446,OHHO:480,OHIH:-1573,OIHH:1935,OIHI:-493,OIIH:626,OIII:-4007,OKAK:-8156},this.TW1__={&quot;につい&quot;:-4681,&quot;東京都&quot;:2026},this.TW2__={&quot;ある程&quot;:-2049,&quot;いった&quot;:-1256,&quot;ころが&quot;:-2434,&quot;しょう&quot;:3873,&quot;その後&quot;:-4430,&quot;だって&quot;:-1049,&quot;ていた&quot;:1833,&quot;として&quot;:-4657,&quot;ともに&quot;:-4517,&quot;もので&quot;:1882,&quot;一気に&quot;:-792,&quot;初めて&quot;:-1512,&quot;同時に&quot;:-8097,&quot;大きな&quot;:-1255,&quot;対して&quot;:-2721,&quot;社会党&quot;:-3216},this.TW3__={&quot;いただ&quot;:-1734,&quot;してい&quot;:1314,&quot;として&quot;:-4314,&quot;につい&quot;:-5483,&quot;にとっ&quot;:-5989,&quot;に当た&quot;:-6247,&quot;ので,&quot;:-727,&quot;ので、&quot;:-727,&quot;のもの&quot;:-600,&quot;れから&quot;:-3752,&quot;十二月&quot;:-2287},this.TW4__={&quot;いう.&quot;:8576,&quot;いう。&quot;:8576,&quot;からな&quot;:-2348,&quot;してい&quot;:2958,&quot;たが,&quot;:1516,&quot;たが、&quot;:1516,&quot;ている&quot;:1538,&quot;という&quot;:1349,&quot;ました&quot;:5543,&quot;ません&quot;:1097,&quot;ようと&quot;:-4258,&quot;よると&quot;:5865},this.UC1__={A:484,K:93,M:645,O:-505},this.UC2__={A:819,H:1059,I:409,M:3987,N:5775,O:646},this.UC3__={A:-1370,I:2311},this.UC4__={A:-2643,H:1809,I:-1032,K:-3450,M:3565,N:3876,O:6646},this.UC5__={H:313,I:-1238,K:-799,M:539,O:-831},this.UC6__={H:-506,I:-253,K:87,M:247,O:-387},this.UP1__={O:-214},this.UP2__={B:69,O:935},this.UP3__={B:189},this.UQ1__={BH:21,BI:-12,BK:-99,BN:142,BO:-56,OH:-95,OI:477,OK:410,OO:-2422},this.UQ2__={BH:216,BI:113,OK:1759},this.UQ3__={BA:-479,BH:42,BI:1913,BK:-7198,BM:3160,BN:6427,BO:14761,OI:-827,ON:-3212},this.UW1__={&quot;,&quot;:156,&quot;、&quot;:156,&quot;「&quot;:-463,&quot;あ&quot;:-941,&quot;う&quot;:-127,&quot;が&quot;:-553,&quot;き&quot;:121,&quot;こ&quot;:505,&quot;で&quot;:-201,&quot;と&quot;:-547,&quot;ど&quot;:-123,&quot;に&quot;:-789,&quot;の&quot;:-185,&quot;は&quot;:-847,&quot;も&quot;:-466,&quot;や&quot;:-470,&quot;よ&quot;:182,&quot;ら&quot;:-292,&quot;り&quot;:208,&quot;れ&quot;:169,&quot;を&quot;:-446,&quot;ん&quot;:-137,&quot;・&quot;:-135,&quot;主&quot;:-402,&quot;京&quot;:-268,&quot;区&quot;:-912,&quot;午&quot;:871,&quot;国&quot;:-460,&quot;大&quot;:561,&quot;委&quot;:729,&quot;市&quot;:-411,&quot;日&quot;:-141,&quot;理&quot;:361,&quot;生&quot;:-408,&quot;県&quot;:-386,&quot;都&quot;:-718,&quot;｢&quot;:-463,&quot;･&quot;:-135},this.UW2__={&quot;,&quot;:-829,&quot;、&quot;:-829,&quot;〇&quot;:892,&quot;「&quot;:-645,&quot;」&quot;:3145,&quot;あ&quot;:-538,&quot;い&quot;:505,&quot;う&quot;:134,&quot;お&quot;:-502,&quot;か&quot;:1454,&quot;が&quot;:-856,&quot;く&quot;:-412,&quot;こ&quot;:1141,&quot;さ&quot;:878,&quot;ざ&quot;:540,&quot;し&quot;:1529,&quot;す&quot;:-675,&quot;せ&quot;:300,&quot;そ&quot;:-1011,&quot;た&quot;:188,&quot;だ&quot;:1837,&quot;つ&quot;:-949,&quot;て&quot;:-291,&quot;で&quot;:-268,&quot;と&quot;:-981,&quot;ど&quot;:1273,&quot;な&quot;:1063,&quot;に&quot;:-1764,&quot;の&quot;:130,&quot;は&quot;:-409,&quot;ひ&quot;:-1273,&quot;べ&quot;:1261,&quot;ま&quot;:600,&quot;も&quot;:-1263,&quot;や&quot;:-402,&quot;よ&quot;:1639,&quot;り&quot;:-579,&quot;る&quot;:-694,&quot;れ&quot;:571,&quot;を&quot;:-2516,&quot;ん&quot;:2095,&quot;ア&quot;:-587,&quot;カ&quot;:306,&quot;キ&quot;:568,&quot;ッ&quot;:831,&quot;三&quot;:-758,&quot;不&quot;:-2150,&quot;世&quot;:-302,&quot;中&quot;:-968,&quot;主&quot;:-861,&quot;事&quot;:492,&quot;人&quot;:-123,&quot;会&quot;:978,&quot;保&quot;:362,&quot;入&quot;:548,&quot;初&quot;:-3025,&quot;副&quot;:-1566,&quot;北&quot;:-3414,&quot;区&quot;:-422,&quot;大&quot;:-1769,&quot;天&quot;:-865,&quot;太&quot;:-483,&quot;子&quot;:-1519,&quot;学&quot;:760,&quot;実&quot;:1023,&quot;小&quot;:-2009,&quot;市&quot;:-813,&quot;年&quot;:-1060,&quot;強&quot;:1067,&quot;手&quot;:-1519,&quot;揺&quot;:-1033,&quot;政&quot;:1522,&quot;文&quot;:-1355,&quot;新&quot;:-1682,&quot;日&quot;:-1815,&quot;明&quot;:-1462,&quot;最&quot;:-630,&quot;朝&quot;:-1843,&quot;本&quot;:-1650,&quot;東&quot;:-931,&quot;果&quot;:-665,&quot;次&quot;:-2378,&quot;民&quot;:-180,&quot;気&quot;:-1740,&quot;理&quot;:752,&quot;発&quot;:529,&quot;目&quot;:-1584,&quot;相&quot;:-242,&quot;県&quot;:-1165,&quot;立&quot;:-763,&quot;第&quot;:810,&quot;米&quot;:509,&quot;自&quot;:-1353,&quot;行&quot;:838,&quot;西&quot;:-744,&quot;見&quot;:-3874,&quot;調&quot;:1010,&quot;議&quot;:1198,&quot;込&quot;:3041,&quot;開&quot;:1758,&quot;間&quot;:-1257,&quot;｢&quot;:-645,&quot;｣&quot;:3145,&quot;ｯ&quot;:831,&quot;ｱ&quot;:-587,&quot;ｶ&quot;:306,&quot;ｷ&quot;:568},this.UW3__={&quot;,&quot;:4889,1:-800,&quot;−&quot;:-1723,&quot;、&quot;:4889,&quot;々&quot;:-2311,&quot;〇&quot;:5827,&quot;」&quot;:2670,&quot;〓&quot;:-3573,&quot;あ&quot;:-2696,&quot;い&quot;:1006,&quot;う&quot;:2342,&quot;え&quot;:1983,&quot;お&quot;:-4864,&quot;か&quot;:-1163,&quot;が&quot;:3271,&quot;く&quot;:1004,&quot;け&quot;:388,&quot;げ&quot;:401,&quot;こ&quot;:-3552,&quot;ご&quot;:-3116,&quot;さ&quot;:-1058,&quot;し&quot;:-395,&quot;す&quot;:584,&quot;せ&quot;:3685,&quot;そ&quot;:-5228,&quot;た&quot;:842,&quot;ち&quot;:-521,&quot;っ&quot;:-1444,&quot;つ&quot;:-1081,&quot;て&quot;:6167,&quot;で&quot;:2318,&quot;と&quot;:1691,&quot;ど&quot;:-899,&quot;な&quot;:-2788,&quot;に&quot;:2745,&quot;の&quot;:4056,&quot;は&quot;:4555,&quot;ひ&quot;:-2171,&quot;ふ&quot;:-1798,&quot;へ&quot;:1199,&quot;ほ&quot;:-5516,&quot;ま&quot;:-4384,&quot;み&quot;:-120,&quot;め&quot;:1205,&quot;も&quot;:2323,&quot;や&quot;:-788,&quot;よ&quot;:-202,&quot;ら&quot;:727,&quot;り&quot;:649,&quot;る&quot;:5905,&quot;れ&quot;:2773,&quot;わ&quot;:-1207,&quot;を&quot;:6620,&quot;ん&quot;:-518,&quot;ア&quot;:551,&quot;グ&quot;:1319,&quot;ス&quot;:874,&quot;ッ&quot;:-1350,&quot;ト&quot;:521,&quot;ム&quot;:1109,&quot;ル&quot;:1591,&quot;ロ&quot;:2201,&quot;ン&quot;:278,&quot;・&quot;:-3794,&quot;一&quot;:-1619,&quot;下&quot;:-1759,&quot;世&quot;:-2087,&quot;両&quot;:3815,&quot;中&quot;:653,&quot;主&quot;:-758,&quot;予&quot;:-1193,&quot;二&quot;:974,&quot;人&quot;:2742,&quot;今&quot;:792,&quot;他&quot;:1889,&quot;以&quot;:-1368,&quot;低&quot;:811,&quot;何&quot;:4265,&quot;作&quot;:-361,&quot;保&quot;:-2439,&quot;元&quot;:4858,&quot;党&quot;:3593,&quot;全&quot;:1574,&quot;公&quot;:-3030,&quot;六&quot;:755,&quot;共&quot;:-1880,&quot;円&quot;:5807,&quot;再&quot;:3095,&quot;分&quot;:457,&quot;初&quot;:2475,&quot;別&quot;:1129,&quot;前&quot;:2286,&quot;副&quot;:4437,&quot;力&quot;:365,&quot;動&quot;:-949,&quot;務&quot;:-1872,&quot;化&quot;:1327,&quot;北&quot;:-1038,&quot;区&quot;:4646,&quot;千&quot;:-2309,&quot;午&quot;:-783,&quot;協&quot;:-1006,&quot;口&quot;:483,&quot;右&quot;:1233,&quot;各&quot;:3588,&quot;合&quot;:-241,&quot;同&quot;:3906,&quot;和&quot;:-837,&quot;員&quot;:4513,&quot;国&quot;:642,&quot;型&quot;:1389,&quot;場&quot;:1219,&quot;外&quot;:-241,&quot;妻&quot;:2016,&quot;学&quot;:-1356,&quot;安&quot;:-423,&quot;実&quot;:-1008,&quot;家&quot;:1078,&quot;小&quot;:-513,&quot;少&quot;:-3102,&quot;州&quot;:1155,&quot;市&quot;:3197,&quot;平&quot;:-1804,&quot;年&quot;:2416,&quot;広&quot;:-1030,&quot;府&quot;:1605,&quot;度&quot;:1452,&quot;建&quot;:-2352,&quot;当&quot;:-3885,&quot;得&quot;:1905,&quot;思&quot;:-1291,&quot;性&quot;:1822,&quot;戸&quot;:-488,&quot;指&quot;:-3973,&quot;政&quot;:-2013,&quot;教&quot;:-1479,&quot;数&quot;:3222,&quot;文&quot;:-1489,&quot;新&quot;:1764,&quot;日&quot;:2099,&quot;旧&quot;:5792,&quot;昨&quot;:-661,&quot;時&quot;:-1248,&quot;曜&quot;:-951,&quot;最&quot;:-937,&quot;月&quot;:4125,&quot;期&quot;:360,&quot;李&quot;:3094,&quot;村&quot;:364,&quot;東&quot;:-805,&quot;核&quot;:5156,&quot;森&quot;:2438,&quot;業&quot;:484,&quot;氏&quot;:2613,&quot;民&quot;:-1694,&quot;決&quot;:-1073,&quot;法&quot;:1868,&quot;海&quot;:-495,&quot;無&quot;:979,&quot;物&quot;:461,&quot;特&quot;:-3850,&quot;生&quot;:-273,&quot;用&quot;:914,&quot;町&quot;:1215,&quot;的&quot;:7313,&quot;直&quot;:-1835,&quot;省&quot;:792,&quot;県&quot;:6293,&quot;知&quot;:-1528,&quot;私&quot;:4231,&quot;税&quot;:401,&quot;立&quot;:-960,&quot;第&quot;:1201,&quot;米&quot;:7767,&quot;系&quot;:3066,&quot;約&quot;:3663,&quot;級&quot;:1384,&quot;統&quot;:-4229,&quot;総&quot;:1163,&quot;線&quot;:1255,&quot;者&quot;:6457,&quot;能&quot;:725,&quot;自&quot;:-2869,&quot;英&quot;:785,&quot;見&quot;:1044,&quot;調&quot;:-562,&quot;財&quot;:-733,&quot;費&quot;:1777,&quot;車&quot;:1835,&quot;軍&quot;:1375,&quot;込&quot;:-1504,&quot;通&quot;:-1136,&quot;選&quot;:-681,&quot;郎&quot;:1026,&quot;郡&quot;:4404,&quot;部&quot;:1200,&quot;金&quot;:2163,&quot;長&quot;:421,&quot;開&quot;:-1432,&quot;間&quot;:1302,&quot;関&quot;:-1282,&quot;雨&quot;:2009,&quot;電&quot;:-1045,&quot;非&quot;:2066,&quot;駅&quot;:1620,&quot;１&quot;:-800,&quot;｣&quot;:2670,&quot;･&quot;:-3794,&quot;ｯ&quot;:-1350,&quot;ｱ&quot;:551,&quot;ｸﾞ&quot;:1319,&quot;ｽ&quot;:874,&quot;ﾄ&quot;:521,&quot;ﾑ&quot;:1109,&quot;ﾙ&quot;:1591,&quot;ﾛ&quot;:2201,&quot;ﾝ&quot;:278},this.UW4__={&quot;,&quot;:3930,&quot;.&quot;:3508,&quot;―&quot;:-4841,&quot;、&quot;:3930,&quot;。&quot;:3508,&quot;〇&quot;:4999,&quot;「&quot;:1895,&quot;」&quot;:3798,&quot;〓&quot;:-5156,&quot;あ&quot;:4752,&quot;い&quot;:-3435,&quot;う&quot;:-640,&quot;え&quot;:-2514,&quot;お&quot;:2405,&quot;か&quot;:530,&quot;が&quot;:6006,&quot;き&quot;:-4482,&quot;ぎ&quot;:-3821,&quot;く&quot;:-3788,&quot;け&quot;:-4376,&quot;げ&quot;:-4734,&quot;こ&quot;:2255,&quot;ご&quot;:1979,&quot;さ&quot;:2864,&quot;し&quot;:-843,&quot;じ&quot;:-2506,&quot;す&quot;:-731,&quot;ず&quot;:1251,&quot;せ&quot;:181,&quot;そ&quot;:4091,&quot;た&quot;:5034,&quot;だ&quot;:5408,&quot;ち&quot;:-3654,&quot;っ&quot;:-5882,&quot;つ&quot;:-1659,&quot;て&quot;:3994,&quot;で&quot;:7410,&quot;と&quot;:4547,&quot;な&quot;:5433,&quot;に&quot;:6499,&quot;ぬ&quot;:1853,&quot;ね&quot;:1413,&quot;の&quot;:7396,&quot;は&quot;:8578,&quot;ば&quot;:1940,&quot;ひ&quot;:4249,&quot;び&quot;:-4134,&quot;ふ&quot;:1345,&quot;へ&quot;:6665,&quot;べ&quot;:-744,&quot;ほ&quot;:1464,&quot;ま&quot;:1051,&quot;み&quot;:-2082,&quot;む&quot;:-882,&quot;め&quot;:-5046,&quot;も&quot;:4169,&quot;ゃ&quot;:-2666,&quot;や&quot;:2795,&quot;ょ&quot;:-1544,&quot;よ&quot;:3351,&quot;ら&quot;:-2922,&quot;り&quot;:-9726,&quot;る&quot;:-14896,&quot;れ&quot;:-2613,&quot;ろ&quot;:-4570,&quot;わ&quot;:-1783,&quot;を&quot;:13150,&quot;ん&quot;:-2352,&quot;カ&quot;:2145,&quot;コ&quot;:1789,&quot;セ&quot;:1287,&quot;ッ&quot;:-724,&quot;ト&quot;:-403,&quot;メ&quot;:-1635,&quot;ラ&quot;:-881,&quot;リ&quot;:-541,&quot;ル&quot;:-856,&quot;ン&quot;:-3637,&quot;・&quot;:-4371,&quot;ー&quot;:-11870,&quot;一&quot;:-2069,&quot;中&quot;:2210,&quot;予&quot;:782,&quot;事&quot;:-190,&quot;井&quot;:-1768,&quot;人&quot;:1036,&quot;以&quot;:544,&quot;会&quot;:950,&quot;体&quot;:-1286,&quot;作&quot;:530,&quot;側&quot;:4292,&quot;先&quot;:601,&quot;党&quot;:-2006,&quot;共&quot;:-1212,&quot;内&quot;:584,&quot;円&quot;:788,&quot;初&quot;:1347,&quot;前&quot;:1623,&quot;副&quot;:3879,&quot;力&quot;:-302,&quot;動&quot;:-740,&quot;務&quot;:-2715,&quot;化&quot;:776,&quot;区&quot;:4517,&quot;協&quot;:1013,&quot;参&quot;:1555,&quot;合&quot;:-1834,&quot;和&quot;:-681,&quot;員&quot;:-910,&quot;器&quot;:-851,&quot;回&quot;:1500,&quot;国&quot;:-619,&quot;園&quot;:-1200,&quot;地&quot;:866,&quot;場&quot;:-1410,&quot;塁&quot;:-2094,&quot;士&quot;:-1413,&quot;多&quot;:1067,&quot;大&quot;:571,&quot;子&quot;:-4802,&quot;学&quot;:-1397,&quot;定&quot;:-1057,&quot;寺&quot;:-809,&quot;小&quot;:1910,&quot;屋&quot;:-1328,&quot;山&quot;:-1500,&quot;島&quot;:-2056,&quot;川&quot;:-2667,&quot;市&quot;:2771,&quot;年&quot;:374,&quot;庁&quot;:-4556,&quot;後&quot;:456,&quot;性&quot;:553,&quot;感&quot;:916,&quot;所&quot;:-1566,&quot;支&quot;:856,&quot;改&quot;:787,&quot;政&quot;:2182,&quot;教&quot;:704,&quot;文&quot;:522,&quot;方&quot;:-856,&quot;日&quot;:1798,&quot;時&quot;:1829,&quot;最&quot;:845,&quot;月&quot;:-9066,&quot;木&quot;:-485,&quot;来&quot;:-442,&quot;校&quot;:-360,&quot;業&quot;:-1043,&quot;氏&quot;:5388,&quot;民&quot;:-2716,&quot;気&quot;:-910,&quot;沢&quot;:-939,&quot;済&quot;:-543,&quot;物&quot;:-735,&quot;率&quot;:672,&quot;球&quot;:-1267,&quot;生&quot;:-1286,&quot;産&quot;:-1101,&quot;田&quot;:-2900,&quot;町&quot;:1826,&quot;的&quot;:2586,&quot;目&quot;:922,&quot;省&quot;:-3485,&quot;県&quot;:2997,&quot;空&quot;:-867,&quot;立&quot;:-2112,&quot;第&quot;:788,&quot;米&quot;:2937,&quot;系&quot;:786,&quot;約&quot;:2171,&quot;経&quot;:1146,&quot;統&quot;:-1169,&quot;総&quot;:940,&quot;線&quot;:-994,&quot;署&quot;:749,&quot;者&quot;:2145,&quot;能&quot;:-730,&quot;般&quot;:-852,&quot;行&quot;:-792,&quot;規&quot;:792,&quot;警&quot;:-1184,&quot;議&quot;:-244,&quot;谷&quot;:-1e3,&quot;賞&quot;:730,&quot;車&quot;:-1481,&quot;軍&quot;:1158,&quot;輪&quot;:-1433,&quot;込&quot;:-3370,&quot;近&quot;:929,&quot;道&quot;:-1291,&quot;選&quot;:2596,&quot;郎&quot;:-4866,&quot;都&quot;:1192,&quot;野&quot;:-1100,&quot;銀&quot;:-2213,&quot;長&quot;:357,&quot;間&quot;:-2344,&quot;院&quot;:-2297,&quot;際&quot;:-2604,&quot;電&quot;:-878,&quot;領&quot;:-1659,&quot;題&quot;:-792,&quot;館&quot;:-1984,&quot;首&quot;:1749,&quot;高&quot;:2120,&quot;｢&quot;:1895,&quot;｣&quot;:3798,&quot;･&quot;:-4371,&quot;ｯ&quot;:-724,&quot;ｰ&quot;:-11870,&quot;ｶ&quot;:2145,&quot;ｺ&quot;:1789,&quot;ｾ&quot;:1287,&quot;ﾄ&quot;:-403,&quot;ﾒ&quot;:-1635,&quot;ﾗ&quot;:-881,&quot;ﾘ&quot;:-541,&quot;ﾙ&quot;:-856,&quot;ﾝ&quot;:-3637},this.UW5__={&quot;,&quot;:465,&quot;.&quot;:-299,1:-514,E2:-32768,&quot;]&quot;:-2762,&quot;、&quot;:465,&quot;。&quot;:-299,&quot;「&quot;:363,&quot;あ&quot;:1655,&quot;い&quot;:331,&quot;う&quot;:-503,&quot;え&quot;:1199,&quot;お&quot;:527,&quot;か&quot;:647,&quot;が&quot;:-421,&quot;き&quot;:1624,&quot;ぎ&quot;:1971,&quot;く&quot;:312,&quot;げ&quot;:-983,&quot;さ&quot;:-1537,&quot;し&quot;:-1371,&quot;す&quot;:-852,&quot;だ&quot;:-1186,&quot;ち&quot;:1093,&quot;っ&quot;:52,&quot;つ&quot;:921,&quot;て&quot;:-18,&quot;で&quot;:-850,&quot;と&quot;:-127,&quot;ど&quot;:1682,&quot;な&quot;:-787,&quot;に&quot;:-1224,&quot;の&quot;:-635,&quot;は&quot;:-578,&quot;べ&quot;:1001,&quot;み&quot;:502,&quot;め&quot;:865,&quot;ゃ&quot;:3350,&quot;ょ&quot;:854,&quot;り&quot;:-208,&quot;る&quot;:429,&quot;れ&quot;:504,&quot;わ&quot;:419,&quot;を&quot;:-1264,&quot;ん&quot;:327,&quot;イ&quot;:241,&quot;ル&quot;:451,&quot;ン&quot;:-343,&quot;中&quot;:-871,&quot;京&quot;:722,&quot;会&quot;:-1153,&quot;党&quot;:-654,&quot;務&quot;:3519,&quot;区&quot;:-901,&quot;告&quot;:848,&quot;員&quot;:2104,&quot;大&quot;:-1296,&quot;学&quot;:-548,&quot;定&quot;:1785,&quot;嵐&quot;:-1304,&quot;市&quot;:-2991,&quot;席&quot;:921,&quot;年&quot;:1763,&quot;思&quot;:872,&quot;所&quot;:-814,&quot;挙&quot;:1618,&quot;新&quot;:-1682,&quot;日&quot;:218,&quot;月&quot;:-4353,&quot;査&quot;:932,&quot;格&quot;:1356,&quot;機&quot;:-1508,&quot;氏&quot;:-1347,&quot;田&quot;:240,&quot;町&quot;:-3912,&quot;的&quot;:-3149,&quot;相&quot;:1319,&quot;省&quot;:-1052,&quot;県&quot;:-4003,&quot;研&quot;:-997,&quot;社&quot;:-278,&quot;空&quot;:-813,&quot;統&quot;:1955,&quot;者&quot;:-2233,&quot;表&quot;:663,&quot;語&quot;:-1073,&quot;議&quot;:1219,&quot;選&quot;:-1018,&quot;郎&quot;:-368,&quot;長&quot;:786,&quot;間&quot;:1191,&quot;題&quot;:2368,&quot;館&quot;:-689,&quot;１&quot;:-514,&quot;Ｅ２&quot;:-32768,&quot;｢&quot;:363,&quot;ｲ&quot;:241,&quot;ﾙ&quot;:451,&quot;ﾝ&quot;:-343},this.UW6__={&quot;,&quot;:227,&quot;.&quot;:808,1:-270,E1:306,&quot;、&quot;:227,&quot;。&quot;:808,&quot;あ&quot;:-307,&quot;う&quot;:189,&quot;か&quot;:241,&quot;が&quot;:-73,&quot;く&quot;:-121,&quot;こ&quot;:-200,&quot;じ&quot;:1782,&quot;す&quot;:383,&quot;た&quot;:-428,&quot;っ&quot;:573,&quot;て&quot;:-1014,&quot;で&quot;:101,&quot;と&quot;:-105,&quot;な&quot;:-253,&quot;に&quot;:-149,&quot;の&quot;:-417,&quot;は&quot;:-236,&quot;も&quot;:-206,&quot;り&quot;:187,&quot;る&quot;:-135,&quot;を&quot;:195,&quot;ル&quot;:-673,&quot;ン&quot;:-496,&quot;一&quot;:-277,&quot;中&quot;:201,&quot;件&quot;:-800,&quot;会&quot;:624,&quot;前&quot;:302,&quot;区&quot;:1792,&quot;員&quot;:-1212,&quot;委&quot;:798,&quot;学&quot;:-960,&quot;市&quot;:887,&quot;広&quot;:-695,&quot;後&quot;:535,&quot;業&quot;:-697,&quot;相&quot;:753,&quot;社&quot;:-507,&quot;福&quot;:974,&quot;空&quot;:-822,&quot;者&quot;:1811,&quot;連&quot;:463,&quot;郎&quot;:1082,&quot;１&quot;:-270,&quot;Ｅ１&quot;:306,&quot;ﾙ&quot;:-673,&quot;ﾝ&quot;:-496},this}TinySegmenter.prototype.ctype_=function(t){for(var e in this.chartype_)if(t.match(this.chartype_[e][0]))return this.chartype_[e][1];return&quot;O&quot;},TinySegmenter.prototype.ts_=function(t){return t||0},TinySegmenter.prototype.segment=function(t){if(null==t||null==t||&quot;&quot;==t)return[];var e=[],i=[&quot;B3&quot;,&quot;B2&quot;,&quot;B1&quot;],n=[&quot;O&quot;,&quot;O&quot;,&quot;O&quot;],s=t.split(&quot;&quot;);for(H=0;H&lt;s.length;++H)i.push(s[H]),n.push(this.ctype_(s[H]));i.push(&quot;E1&quot;),i.push(&quot;E2&quot;),i.push(&quot;E3&quot;),n.push(&quot;O&quot;),n.push(&quot;O&quot;),n.push(&quot;O&quot;);for(var o=i[3],r=&quot;U&quot;,a=&quot;U&quot;,_=&quot;U&quot;,H=4;H&lt;i.length-3;++H){var h=this.BIAS__,l=i[H-3],c=i[H-2],I=i[H-1],d=i[H],u=i[H+1],p=i[H+2],O=n[H-3],B=n[H-2],f=n[H-1],K=n[H],m=n[H+1],y=n[H+2];h+=this.ts_(this.UP1__[r]),h+=this.ts_(this.UP2__[a]),h+=this.ts_(this.UP3__[_]),h+=this.ts_(this.BP1__[r+a]),h+=this.ts_(this.BP2__[a+_]),h+=this.ts_(this.UW1__[l]),h+=this.ts_(this.UW2__[c]),h+=this.ts_(this.UW3__[I]),h+=this.ts_(this.UW4__[d]),h+=this.ts_(this.UW5__[u]),h+=this.ts_(this.UW6__[p]),h+=this.ts_(this.BW1__[c+I]),h+=this.ts_(this.BW2__[I+d]),h+=this.ts_(this.BW3__[d+u]),h+=this.ts_(this.TW1__[l+c+I]),h+=this.ts_(this.TW2__[c+I+d]),h+=this.ts_(this.TW3__[I+d+u]),h+=this.ts_(this.TW4__[d+u+p]),h+=this.ts_(this.UC1__[O]),h+=this.ts_(this.UC2__[B]),h+=this.ts_(this.UC3__[f]),h+=this.ts_(this.UC4__[K]),h+=this.ts_(this.UC5__[m]),h+=this.ts_(this.UC6__[y]),h+=this.ts_(this.BC1__[B+f]),h+=this.ts_(this.BC2__[f+K]),h+=this.ts_(this.BC3__[K+m]),h+=this.ts_(this.TC1__[O+B+f]),h+=this.ts_(this.TC2__[B+f+K]),h+=this.ts_(this.TC3__[f+K+m]),h+=this.ts_(this.TC4__[K+m+y]),h+=this.ts_(this.UQ1__[r+O]),h+=this.ts_(this.UQ2__[a+B]),h+=this.ts_(this.UQ3__[_+f]),h+=this.ts_(this.BQ1__[a+B+f]),h+=this.ts_(this.BQ2__[a+f+K]),h+=this.ts_(this.BQ3__[_+B+f]),h+=this.ts_(this.BQ4__[_+f+K]),h+=this.ts_(this.TQ1__[a+O+B+f]),h+=this.ts_(this.TQ2__[a+B+f+K]),h+=this.ts_(this.TQ3__[_+O+B+f]);var g=&quot;O&quot;;(h+=this.ts_(this.TQ4__[_+B+f+K]))&gt;0&amp;&amp;(e.push(o),o=&quot;&quot;,g=&quot;B&quot;),r=a,a=_,_=g,o+=i[H]}return e.push(o),e};var definitions={},body=document.getElementById(kanjiHover),kanji=new Set,kanjiDict={},tokens=TokenizeInput();function TokenizeInput(){var t=document.getElementsByClassName(inputField);if(null==t)return[];var e=&quot;&quot;;for(let i=0;i&lt;t.length;++i)e+=t[i].innerText;e=StripASCII(e);var i=(new TinySegmenter).segment(e);return i=(i=[...new Set(i)]).filter(t=&gt;!ignore.includes(t))}function StripASCII(t){return&quot;string&quot;==typeof t&amp;&amp;t.split(&quot;&quot;).filter(t=&gt;t.charCodeAt(0)&gt;127).join(&quot;&quot;)}function GetDefinitions(t){if(Persistence.isAvailable()){let e=Persistence.getItem();e||LoadDictionary(dictionary,function(e){Persistence.setItem(e),UpdateHTML(e,t)}),UpdateHTML(e,t)}else LoadDictionary(dictionary,function(e){UpdateHTML(e,t)})}function UpdateHTML(t,e){if(!t)return null;for(word of e)definitions[word]=t[word];BuildHoverHtml(),InjectWordData(),KanjiHover()}function LoadDictionary(t,e){var i=new XMLHttpRequest;i.overrideMimeType(&quot;application/json&quot;),i.open(&quot;GET&quot;,t,!0),i.onreadystatechange=function(){4==i.readyState&amp;&amp;&quot;200&quot;==i.status&amp;&amp;e(JSON.parse(i.responseText))},i.send(null)}function BuildHoverHtml(){for(key in definitions){if(null==definitions[key])continue;let t=&#39;&lt;span class=&quot;JAword&quot; onclick=&quot;WordClicked(event)&quot;&gt;&#39;+key+&quot;&lt;/span&gt;&quot;;definitions[key].html=t}}function InjectWordData(){var t=document.getElementsByClassName(inputField);if(null!=t)for(let i=0;i&lt;t.length;++i){let n=t[i].innerText;var e=new RegExp(Object.keys(definitions).join(&quot;|&quot;),&quot;gi&quot;);n=n.replace(e,function(t){return definitions[t]?definitions[t].html:t}),document.getElementsByClassName(inputField)[i].innerHTML=n}}function WordClicked(t){if(0!=t.button)return;let e=t.target;&quot;kanjiTooltip&quot;==e.className&amp;&amp;(e=e.parentElement);let i=e.innerText;definitions[e.innerText].Reading&amp;&amp;(i+=&quot; ( &quot;+definitions[e.innerText].Reading+&quot; )&quot;),i+=&#39;&lt;br&gt;&lt;a href=&quot;https://en.wiktionary.org/wiki/&#39;+e.innerText+&#39;#Japanese&quot;&gt;Wikitionary&lt;/a&gt;&#39;,i+=&#39; | &lt;a href=&quot;https://dictionary.goo.ne.jp/srch/all/&#39;+e.innerText+&#39;/m0u/&quot;&gt;goo&lt;/a&gt;&#39;,i+=&quot;&lt;br&gt;&quot;+definitions[e.innerText].Definition,document.getElementById(outputField).innerHTML=i}function KanjiHover(){body&amp;&amp;(body=body.innerHTML),IsOnline()&amp;&amp;body&amp;&amp;(AppendPopupDiv(),FindKanji(),GetKanjiData().then(t=&gt;{InjectKanjiHTML()}))}function IsOnline(){return navigator.onLine}function AppendPopupDiv(){var t=document.createElement(&quot;div&quot;);t.id=&quot;kanjiPopup&quot;,document.body.appendChild(t)}function FindKanji(){const t=body.matchAll(/[\u4E00-\u9FAF]/g);for(const e of t)kanji.add(...e)}async function GetKanjiData(){kanji=[...kanji];let t=await Promise.all(kanji.map(async t=&gt;{return(await fetch(&quot;https://kanjiapi.dev/v1/kanji/&quot;+t)).json()}));for(item of t)kanjiDict[item.kanji]=item}function BuildKanjiHtml(t){let e=&#39;&lt;a class=&quot;kanjiTooltip&quot; onclick=&quot;KanjiClicked(event)&quot; onmouseenter=&quot;DisplayKanjiPopup(event)&quot; onmouseleave=&quot;HideKanjiPopup()&quot; href=&quot;https://en.wiktionary.org/wiki/&#39;+t+&#39;#Japanese&quot;&gt;&#39;+t+&quot;&lt;/a&gt;&quot;,i=&#39;&lt;span class=&quot;kanjiTooltipText&quot;&gt;&#39;;i+=&#39;&lt;span class=&quot;hoverText&quot;&gt;Kanji:&lt;/span&gt; &#39;+t+&quot;&lt;br&gt;&quot;,kanjiDict[t].grade&amp;&amp;(i+=&#39;&lt;span class=&quot;hoverText&quot;&gt;Grade:&lt;/span&gt; &#39;+kanjiDict[t].grade+&quot;&lt;br&gt;&quot;),i+=&#39;&lt;span class=&quot;hoverText&quot;&gt;Meaning:&lt;/span&gt; &#39;;for(let e of kanjiDict[t].meanings)i+=e+&quot;, &quot;;if(i=i.slice(0,-2),i+=&quot;&lt;br&gt;&quot;,kanjiDict[t].kun_readings.length&gt;0){i+=&#39;&lt;span class=&quot;hoverText&quot;&gt;Kun\&#39;yomi:&lt;/span&gt; &#39;;for(let e of kanjiDict[t].kun_readings)i+=e+&quot;, &quot;;i=i.slice(0,-2),i+=&quot;&lt;br&gt;&quot;}if(kanjiDict[t].on_readings.length&gt;0){i+=&#39;&lt;span class=&quot;hoverText&quot;&gt;On\&#39;yomi:&lt;/span&gt; &#39;;for(let e of kanjiDict[t].on_readings)i+=e+&quot;, &quot;;i=i.slice(0,-2),i+=&quot;&lt;br&gt;&quot;}return i+=&quot;&lt;/span&gt;&quot;,kanjiDict[t].html=i,e}function KanjiClicked(t){0==t.button&amp;&amp;t.preventDefault()}function InjectKanjiHTML(){var t=document.getElementById(kanjiHover).innerHTML,e=new RegExp(Object.keys(kanjiDict).join(&quot;|&quot;),&quot;gi&quot;);t=t.replace(e,function(t){return kanjiDict[t]?BuildKanjiHtml(t):t}),document.getElementById(kanjiHover).innerHTML=t}function DisplayKanjiPopup(t){let e=document.getElementById(&quot;kanjiPopup&quot;);e.style.display=&quot;inline-block&quot;,e.innerHTML=kanjiDict[t.target.innerText].html}function HideKanjiPopup(){document.getElementById(&quot;kanjiPopup&quot;).style.display=&quot;none&quot;}function AppendCSS(){var t=document.createElement(&quot;style&quot;);t.innerHTML=&quot;   .JAword{background-color:#9370db;color:#fff;cursor:pointer;margin:0 5px}#kanjiPopup{display:none;width:30vw;background-color:#1e1a1e;color:#fff;text-align:center;padding:5px 0;border-radius:6px;z-index:1;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:18px;writing-mode:horizontal-tb}.kanjiTooltip{text-decoration:none;color:inherit}.hoverText{color:#e95464}@media only screen and (max-width:768px){#kanjiPopup{width:90vw}}&quot;,document.head.appendChild(t)}AppendCSS(),tokens.length&gt;0&amp;&amp;!document.documentElement.classList.contains(&quot;android&quot;)?GetDefinitions(tokens):KanjiHover();&lt;/script&gt;
</code></pre>
                <p>&nbsp;</p>
                <p><strong>Step 2</strong></p>
                <p>On the <strong>back</strong> of your card, wrap your sentence
                    field in a div/span with the following id/class</p>
                <pre><code>&lt;div id=&quot;kanjiHover&quot; class=&quot;JAGlossInput&quot;&gt;{{sentence}}&lt;/div&gt;
</code></pre>
                <p><strong>Note:</strong> the kanjiHover id is optional if you
                    don&#39;t want that functionality. Technically the JAGloss
                    class is <em>also</em> optional, in which case the script
                    wouldn&#39;t do anything.</p>
                <p><strong>Note 2:</strong> since JAGlossInput is a class
                    (instead of an id), it can be used in multiple places at
                    once. Essentially, you can have any number of divs with that
                    class, and all of them will be parsed by the script.</p>
                <p>&nbsp;</p>
                <p><strong>Step 3</strong></p>
                <p>On the <strong>back</strong> of your card, add a div/span
                    with the following id</p>
                <pre><code>&lt;div id=&quot;JAGlossOutput&quot;&gt;&lt;/div&gt;
</code></pre>
                <p><strong>Note:</strong> this is where the definitions will go
                    when you click on a word. You can edit your card css to
                    change the look of this however you&#39;d like.</p>
                <p>&nbsp;</p>
                <p><strong>Step 4</strong></p>
                <p><a
                        href='https://github.com/cademcniven/JAGloss/blob/main/_JADict.json'>Download</a>
                    the <code>_JADict.json</code> file from Github. Place this
                    file in your collection.media folder.</p>
                <p><strong>Note:</strong> At this point things should be
                    functional, so it&#39;d be a good idea to test that now. It
                    should look something like this</p>
                <p>&nbsp;</p>
                <p><img src="images\jagloss\technicallyWorking.png"
                        referrerpolicy="no-referrer"></p>
                <p>&nbsp;</p>
                <p><strong>Step 5 (optional)</strong></p>
                <p>You may notice in the picture above (and in your own Anki
                    client) that certain characters have a blue font color which
                    looks pretty horrendous. This is actually an issue caused by
                    Kanji Hover and can be fixed by adding the following css to
                    your card style</p>
                <pre><code>a {
  color: inherit !important;
}
</code></pre>
                <p>That line will make all links look the same as regular text.
                    The reason I don&#39;t include that automatically is because
                    it seems to me like it would be over-reaching for me to
                    change the appearance of <em>all</em> links on your card.</p>
                <p>If someone has a better solution to this that I can include
                    in the script, let me know.</p>
                <p>&nbsp;</p>
                <p><strong>Step 6 (optional)</strong></p>
                <p>On the <strong>front</strong> of your card, you can add the
                    following script</p>
                <pre><code>&lt;script&gt;if(!document.documentElement.classList.contains(&quot;android&quot;)){if(void 0===window.Persistence){var _persistenceKey=&quot;github.com/SimonLammer/anki-persistence/&quot;,_defaultKey=&quot;_default&quot;;if(window.Persistence_sessionStorage=function(){var e=!1;try{&quot;object&quot;==typeof window.sessionStorage&amp;&amp;(e=!0,this.clear=function(){for(var e=0;e&lt;sessionStorage.length;e++){var t=sessionStorage.key(e);0==t.indexOf(_persistenceKey)&amp;&amp;(sessionStorage.removeItem(t),e--)}},this.setItem=function(e,t){null==t&amp;&amp;(t=e,e=_defaultKey),sessionStorage.setItem(_persistenceKey+e,JSON.stringify(t))},this.getItem=function(e){return null==e&amp;&amp;(e=_defaultKey),JSON.parse(sessionStorage.getItem(_persistenceKey+e))},this.removeItem=function(e){null==e&amp;&amp;(e=_defaultKey),sessionStorage.removeItem(_persistenceKey+e)})}catch(e){}this.isAvailable=function(){return e}},window.Persistence_windowKey=function(e){var t=window[e],n=!1;&quot;object&quot;==typeof t&amp;&amp;(n=!0,this.clear=function(){t[_persistenceKey]={}},this.setItem=function(e,n){null==n&amp;&amp;(n=e,e=_defaultKey),t[_persistenceKey][e]=n},this.getItem=function(e){return null==e&amp;&amp;(e=_defaultKey),t[_persistenceKey][e]||null},this.removeItem=function(e){null==e&amp;&amp;(e=_defaultKey),delete t[_persistenceKey][e]},null==t[_persistenceKey]&amp;&amp;this.clear()),this.isAvailable=function(){return n}},window.Persistence=new Persistence_sessionStorage,Persistence.isAvailable()||(window.Persistence=new Persistence_windowKey(&quot;py&quot;)),!Persistence.isAvailable()){var titleStartIndex=window.location.toString().indexOf(&quot;title&quot;),titleContentIndex=window.location.toString().indexOf(&quot;main&quot;,titleStartIndex);titleStartIndex&gt;0&amp;&amp;titleContentIndex&gt;0&amp;&amp;titleContentIndex-titleStartIndex&lt;10&amp;&amp;(window.Persistence=new Persistence_windowKey(&quot;qt&quot;))}}var dictionary={};function LoadDictionary(e,t){var n=new XMLHttpRequest;n.overrideMimeType(&quot;application/json&quot;),n.open(&quot;GET&quot;,e,!0),n.onreadystatechange=function(){4==n.readyState&amp;&amp;&quot;200&quot;==n.status&amp;&amp;t(JSON.parse(n.responseText))},n.send(null)}Persistence.isAvailable()&amp;&amp;null==(dictionary=Persistence.getItem())&amp;&amp;LoadDictionary(&quot;_JADict.json&quot;,function(e){Persistence.setItem(e)});}&lt;/script&gt;
</code></pre>
                <p>&nbsp;</p>
                <p>The purpose of that script is that it will pre-load the
                    dictionary while you&#39;re on the front side of the card so
                    that things won&#39;t have to load once you flip to the
                    back.</p>
                <p>However, it&#39;s not <em>that</em> useful, for 2 reasons</p>
                <ol>
                    <li>After it loads the dictionary, it persistently stores
                        it. What that means is that it will never need to open
                        it a second time.</li>
                    <li>That load-then-store mechanism is <em>also</em> present
                        on the script on the back side of the card.</li>

                </ol>
                <p>So, effectively, adding this script to the front will
                    <strong>only</strong> make the very first card you see load
                    faster. All of the cards after that will load fast
                    regardless of whether you include this script or not. </p>
                <p>I use it on my cards, but if you&#39;re concerned about card
                    file size, or just think it looks ugly, you can leave it
                    off.</p>
                <p>&nbsp;</p>
                <h2>Customizing Things</h2>
                <p>The script at the top of the page if minified in order to
                    reduce file size, but you can find the original file on <a
                        href='https://github.com/cademcniven/JAGloss/blob/main/JAGloss.js'>Github</a>.
                    I tried to keep things clean enough and include a couple
                    comments in case there are things you feel like changing.</p>
                <p>In particular, the top of the file includes a few constants
                    that you can change to fit your own note style</p>
                <pre><code>const ignore
</code></pre>
                <p>This variable includes &quot;words&quot; to ignore (not make
                    clickable). For the most part, the default is to do this for
                    particles, numbers, and punctuation. However, you can
                    add/remove things from this array depending on your own
                    preference.</p>
                <pre><code>const inputField
</code></pre>
                <p>In step 2 you added a div/span with the class <code>JAGlossInput</code>.
                    If you would rather that class be named something else, you
                    can change that here.</p>
                <pre><code>const outputField
</code></pre>
                <p>Similarly, if you want the output div/span to be named
                    something other than <code>JAGlossOutput</code> you can
                    rename that here.</p>
                <pre><code>const kanjiHover
</code></pre>
                <p>In step 2 the div/span you added had the id <code>kanjiHover</code>.
                    If you would rather that id be something else, you can
                    change that here.</p>
                <pre><code>const dictionary
</code></pre>
                <p>This is the filename for the dictionary.</p>
                <p>If you end up editing things and then want to add the script
                    back to your card, you can use <a
                        href='https://javascript-minifier.com/' target='_blank'
                        class='url'>https://javascript-minifier.com/</a> to
                    minify the code.</p>
                <p>Additionally, pretty much everything the script adds to your
                    card can be added by styling the appropriate thing in your
                    card styles.</p>
                <pre><code>.JAword
</code></pre>
                <p>This is the word that you click on to display the definition.
                    I imagine this is probably the thing you were looking for in
                    this list, because you hate that the highlight color is
                    purple.</p>
                <pre><code>.kanjiTooltip
</code></pre>
                <p>If you&#39;re using the Kanji Hover functionality, every
                    single kanji will be wrapped in an <code>a</code> tag with
                    this class.</p>
                <pre><code>.kanjiTooltipText
</code></pre>
                <p>If you&#39;re using the Kanji Hover functionality, this is
                    the class for the stuff in the popup.</p>
                <pre><code>.hoverText
</code></pre>
                <p>If you&#39;re using the Kanji Hover functionality, this is
                    the red words in the popup.</p>
                <h2>About The Dictionary</h2>
                <p>The dictionary used is a modified version of <a
                        href='https://www.edrdg.org/edrdg/licence.html'>JMDict</a>.
                </p>
                <p>The dictionary uses a custom format, but the format is
                    extremely simple, so it wouldn&#39;t be difficult for you to
                    create your own compatible dictionary.</p>
                <p>The dictionary is a json file where the headword is the
                    Japanese word itself. It has a &quot;Reading&quot; field and
                    a &quot;Definition&quot; field. If the dictionary you&#39;re
                    converting doesn&#39;t have a reading field, you can just
                    leave that null and things will work fine.</p>
                <p>&nbsp;</p>
                <h2>Compatibility &amp; Issues</h2>
                <p><strong>This script will likely break if you use it with
                        scripts/addons that mess with the html of your card</strong></p>
                <p>This <em>may</em> include things like <code>kanjax with
                        koohii</code>, <code>Migaku Japanese</code>, <code>Migaku
                        Editor</code>, and <code>kanjiHover</code> (yes I
                    understand the irony).</p>
                <p>If you&#39;re using multiple scripts and something isn&#39;t
                    working, try changing the order of the scripts on your card.
                    This often completely changes the behavior. </p>
                <p><strong>This script won&#39;t work on the web client</strong></p>
                <p>But since most things won&#39;t, you probably expected that.</p>
                <p><strong>This script won&#39;t work on mobile (probably)</strong></p>
                <p>I haven&#39;t tested on IOS, but for some reason the
                    dictionary won&#39;t load on AnkiDroid. The Kanji Hover
                    functionality will still work though. If anyone has a fix
                    for making it work on mobile, please let me know.</p>
                <p><strong>This script is untested on Mac/Linux</strong></p>
                <p>So good luck.</p>
                <p><strong>This script only includes Kanji Hover on the <em>back</em>
                        of the card</strong></p>
                <p>So you&#39;ll still need to include it on the front if you
                    want it there.</p>
                <p>&nbsp;</p>
                <h2>Sources</h2>
                <ul>
                    <li>Huge thanks to CalculusAce for converting the dictionary
                        and fixing any dictionary related errors that appeared</li>
                    <li><a href='https://www.edrdg.org/edrdg/licence.html'>JMDict</a></li>
                    <li><a
                            href='https://github.com/SimonLammer/anki-persistence'>anki-persistence</a></li>
                    <li><a
                            href='http://chasen.org/~taku/software/TinySegmenter/'>TinySegmenter</a></li>
                    <li><a href='https://kanjiapi.dev/' target='_blank'
                            class='url'>https://kanjiapi.dev/</a></li>

                </ul>
            </div>
        </main>
    </body>
</html>