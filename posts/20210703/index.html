<!doctype html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="A tutorial on how to set up Yomichan and Animebook to create one of the most powerful sentence mining setups available. Create high quality flashcards in only 2 clicks."><meta name="theme-color" content="#ffffff"><meta name="twitter:dnt" content="on"><meta property="og:title" content="Sentence Mining With Yomichan &amp; Animebook - Cade&#39;s Site &amp; Blog"><meta property="og:site_name" content="Cade&#39;s Site &amp; Blog"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://cademcniven.com/posts/20210703/"><meta property="og:description" content="A tutorial on how to set up Yomichan and Animebook to create one of the most powerful sentence mining setups available. Create high quality flashcards in only 2 clicks."><link rel="canonical" href="https://cademcniven.com/posts/20210703/"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="manifest" href="/images/site.webmanifest"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}:root{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue","ヒラギノ角ゴ Pro W3",Osaka,メイリオ,Meiryo,"ＭＳ Ｐゴシック","MS PGothic","ＭＳ ゴシック","MS Gothic","Noto Sans CJK JP",TakaoPGothic,sans-serif;font-size:140%;line-height:1.6}html{overflow-x:hidden}header{margin-top:1vh;padding:0 3vw}nav{text-align:right}nav>ul{list-style-type:none;margin:0;padding:0}nav li{display:inline-block}nav a,nav a:link,nav a:visited{display:inline-block;width:fit-content;margin-bottom:1px;padding:.5rem;color:#232028}nav a:active,nav a:focus,nav a:hover{margin-bottom:0;color:#fff;background-color:#000}main{display:flex;flex-direction:column;align-items:center;margin-top:5vh;padding:0 3vw}#content,#postHeaderContent{max-width:65ch}#content{width:100%}#postHeader{position:relative;display:flex;justify-content:center;width:100vw;padding-bottom:5ch;background-color:#58d8a9}#postHeader h1{line-height:1}#postHeaderContent{padding:10ch 3vw}#postTitle{font-size:300%}#postDate{line-height:0;font-size:90%}#postDescription{margin-top:3ch}::selection{background:#ffb7b7;color:#000}::-moz-selection{background:#ffb7b7;color:#000}#posts>ul{list-style:none;margin-left:0;padding-left:0}.postListTitle{font-size:1.5rem;font-weight:700}.postListTitle>a,.postListTitle>a:link,.postListTitle>a:visited{color:#232028}.postListTitle>a:active,.postListTitle>a:focus,.postListTitle>a:hover{color:#000}.postListDescription{padding-left:2ch}.postListDateAndTags{font-size:.75rem}#posts>ul>li{margin-top:3ch}#posts>li:before{content:"\200B";position:absolute}.tag{margin-right:.5ch;text-decoration:underline}a,a:link,a:visited{color:#005ac0;text-decoration:none}a:active,a:focus,a:hover{color:#002249}img{display:block;width:auto;max-width:100%;height:auto}pre{padding:1rem;max-height:100ch;overflow:auto;tab-size:4;font-size:.5em}blockquote{margin:0;padding-left:1.33em;border-left:3px solid #7a7a7a;font-style:italic;text-align:left}:lang(ja){line-height:150%;letter-spacing:.1em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-style:normal}rt{font-size:.7em}.backlinks-title{margin-bottom:0}.backlinks-container{margin-top:0}.backlinks-default{margin-top:0;margin-left:16px;color:var(--grey)}.backlink__preview{display:none}.backlink{width:fit-content;position:relative}code[class*=language-],pre[class*=language-]{color:#ccc;background:0 0;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:.9em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d;border-radius:5px}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><title>Sentence Mining With Yomichan &amp; Animebook - Cade&#39;s Site &amp; Blog</title></head><body><header><nav><ul><li><a href="/">Posts</a></li><li><a href="/projects/">Projects</a></li><li><a href="/japaneseresources/">Japanese Resources</a></li><li><a href="/notes/">Notes</a></li><li><a href="/about/">About</a></li></ul></nav></header><main><div id="postHeader"><div id="postHeaderContent"><h1 id="postTitle">Sentence Mining With Yomichan &amp; Animebook</h1><div id="postDate">July 2, 2021</div><div id="postDescription">A tutorial on how to set up Yomichan and Animebook to create one of the most powerful sentence mining setups available. Create high quality flashcards in only 2 clicks.</div></div></div><div id="content"><p><em><strong>Updated 7/10/2021</strong></em></p><p>I’ve tried several different setups for immersing in Japanese, but <a href="https://animebook.github.io/">animebook</a> continues to be the best in my opinion. It’s incredibly simple and easy to use, it makes lookups quick and easy, and it only takes a few seconds to re-time subtitles with it. Oh, and it’s also faster than just about anything else for sentence mining.</p><p><img src="/images/20210703/demo.gif" alt="Sentence mining demo" loading="lazy"></p><h2>Software Installation</h2><p>To use Animebook you just need to go to the <a href="https://animebook.github.io/">website</a> in any web browser. Drag a video file and a subtitle file into the window, and you’re all set up.</p><p>However, different browsers support different codecs, which means you might find yourself very limited by what video files are actually playable. For the most support, you should install <a href="https://github.com/macchrome/winchrome/releases/download/v91.0.4472.124-r1496-Win64/91.0.4472.124_ungoogled_mini_installer.exe">Woolyss all-codecs+ builds of Chromium</a>. For a non-direct download link you can <a href="https://chromium.woolyss.com/">download chromium</a> from Woolyss’s website. Note that there is an “all-codecs” version, and an “all-codecs+” version. You want the one with the + on it.</p><p>I use this browser as my dedicated immersion browser, which means I can tweak my Yomichan settings in ways that would normally be too intrusive for my main web browser (such as lookups without hotkey). More on Yomichan settings later.</p><p>Next follow <a href="https://github.com/NeverDecaf/chromium-web-store">these instructions to enable the chrome web store</a>. This is necessary for installing Yomichan. This build of Chromium is de-googled by default, which is why the web store isn’t enabled out of the box.</p><p>Install <a href="https://chrome.google.com/webstore/detail/yomichan/ogmnaimimemjmbakcfefmnahgdfhfami?hl=en-US">Yomichan</a>. This could also be a good time to install <a href="https://chrome.google.com/webstore/detail/ublock-origin/cjpalhdlnbpafiamejdnhcphjbkeiagm?hl=en">uBlock Origin</a>, but that’s not necessary if you’re only going to be using this browser for Animebook.</p><p>Next you’ll want some <a href="https://foosoft.net/projects/yomichan/#dictionaries">dictionaries</a> for Yomichan. If you don’t have your own dictionaries that you prefer, a good set to start with is <a href="https://foosoft.net/projects/yomichan/dl/dict/jmdict_english.zip">JMdict</a>, <a href="https://foosoft.net/projects/yomichan/dl/dict/jmnedict.zip">JMnedict</a>, <a href="https://foosoft.net/projects/yomichan/dl/dict/kanjidic_english.zip">KANJIDIC</a>, and <a href="https://foosoft.net/projects/yomichan/dl/dict/kanjium_pitch_accents.zip">Kanjium</a>. You can also find frequency lists <a href="https://docs.google.com/document/d/1IUWkvBxhoazBSTyRbdyRVk7hfKE51yorE86DCRNQVuw/edit">here</a> and <a href="https://mega.nz/file/fQ9VHAIA#P8M1dyLiM-JDb_Q0ZyeEw0cGIcNER6K2Iuh3HzNRPcI">here</a>.</p><p>In the Yomichan settings, click on “Configure installed and enabled dictionaries”, and then click “Import” on the window that pops up. Import the dictionaries <strong>still in the .zip form</strong>.</p><p><img src="/images/20210703/dictionaries.png" alt="Yomichan dictionaries" loading="lazy"></p><p>Feel free to fiddle with the Yomichan settings. I’ll also give some recommendations a bit later, and even provide my own Yomichan settings which you can download and import.</p><p>If you get stuck with any of the Yomichan setup, I found <a href="https://www.youtube.com/watch?v=OJxndUGN8Cg">this video</a> to be pretty good.</p><p>For mining you’ll need to install the <a href="https://ankiweb.net/shared/info/2055492159">AnkiConnect</a> Anki addon. This will allow external apps (Yomichan and Animebook) to make and edit cards.</p><p>Finally you’ll need the <a href="https://chrome.google.com/webstore/detail/animebook-anki-export/ohcbgkombhgcbjcikjlgdmjkpibafppa">Animebook Chrome Extension</a>.</p><h2>Fast Lookups Make Immersion More Fun</h2><p>Before getting into the actual mining setup, I wanted to talk about the general immersing setup.</p><p>I’ve personally found that dictionary lookups are one of the most annoying parts of trying to immerse. It interrupts the flow of whatever you’re watching, and is just kind of an all around headache. They’re always gonna be a bit awful, but I’ve found a couple ways to make them a little less so.</p><p>Like I mentioned before, you should set Yomichan to show definitions upon hover (without having to hold any kind of hotkey). This will provide both the fastest and least strenuous way of getting to a definition. This isn’t really practical to do on your main web browser, but since we’re using a browser just for immersion, it’s totally fine.</p><p>Set Yomichan to auto-play audio upon lookup. This is useful because you can hear native audio of the pronunciation and pitch for each word you look up. Possibly even more important than that though, is it allows you to skip reading the furigana a lot of the time. Normally when you look up a word, you have to read the furigana to know how it’s read, and then you have to read the definition to know what it means. Having the audio auto-play means you can hear how it’s said, and then just read the definition.</p><p>Use a frequency list, or maybe even 2-3. This is because knowing the rarity of a word can sort of give you an indication of how much mental energy to put towards remembering a word. If it’s super common, it might be worth focusing a bit and trying to make it stick. If it’s incredibly rare though, it probably doesn’t matter even if you forget it immediately after the lookup window closes. I personally use 3 frequency lists: slice of life, VNs, and syosetu. All of those are available from the download links in the previous section.</p><p>Don’t pause for your lookups. Quickly hover the word you’re curious about, then go back to watching without ever pausing the video. The lookup process should only take 2ish seconds, and you can probably finish getting an idea of the word before the next subtitle line hits. Worst case scenario, you miss 1 sentence of dialogue. This doesn’t apply to mining however, you should probably pause for that.</p><p>At the bottom right of the window in Animebook there will be a section that says “Offset Subtitles”.</p><p><img src="/images/20210703/retime_subs.png" alt="Offset Subtitles" loading="lazy"></p><p>If you happen to know the offset of the subtitles, you can just type a number into that box. However, you can also automatically re-time the subs by clicking the “Offset Subtitles” button (yes it’s a button, even though it doesn’t look like one). Using this method, it shouldn’t take more than 15-20 seconds to re-time subtitles.</p><h2>Mining Quick Start</h2><p>There’s a little bit of set up, and a <strong>lot</strong> of possible config that can be done to mine with Yomichan and Animebook. However, if you want to skip all of that and get to mining, I’ve provided my settings and Anki note type so that you can get started straight away.</p><p>First download the <a href="/projects/notetype2">Eminent Note Type V2</a> which was made especially for this mining set up.</p><p>Next download my <a href="https://mega.nz/file/3NUhgSoK#wjCycTjhq9TAFWZ3pD1bxrNyIbH_3vib-aO7-HkarZw">Yomichan settings</a> and <a href="https://mega.nz/file/mctDnCYK#Qpd8gF5spsOoxBl7_a3xVwuZzUE7xuq1uCThCP16ck0">Animebook settings</a>.</p><p>In Yomichan, go to the “Backup” section and import settings.</p><p><img src="/images/20210703/yomichan_import.png" alt="Yomichan import settings" loading="lazy"></p><p>In your settings for the Animebook Chrome Extension, scroll to the bottom of the page and there will be a import button.</p><p><img src="/images/20210703/animebook_import.png" alt="Animebook import settings" loading="lazy"></p><p>One last step!</p><p>You need to tell Yomichan and Animbook which deck to put your cards in (since it’ll be different from mine). In the Yomichan settings, go to the Anki section and click “Configure Anki card format”. From there, select your deck from the drop down.</p><p><img src="/images/20210703/yomichan_deck.png" alt="Yomichan select a deck" loading="lazy"></p><p>At the top of the page for your Animebook Chrome Extension settings there should also be a drop down for selecting your deck. Make sure it matches the one you put in Yomichan.</p><p><img src="/images/20210703/animebook_deck.png" alt="Animebook select a deck" loading="lazy"></p><p>With that, all the setup is complete, and you can get to mining!</p><p>To mine a card simply hover a word, and hit the green + button in the Yomichan popup window. This will create a new card in your deck, but it will be missing the sentence, picture, and audio. Next click the + button on the subtitle line in Animebook. This will automatically edit the card that Yomichan made and add in those missing fields. If you did everything right, it should only take around 2 seconds to make a card.</p><h2>Detailed Mining Setup</h2><p>If, for some reason, the quick start method didn’t work for you, or if you’d rather set things up manually with your own card type, I’ll provide some additional information here.</p><p>First, in your Yomichan Anki settings, you’ll need to fill out what data you want to go in what fields of your card.</p><p><img src="/images/20210703/yomichan_anki_fields.png" alt="Anki note fields in yomichan" loading="lazy"></p><p>There are a lot of different kinds of things Yomichan can send to your card. If you don’t know what one of them means, Yomichan conveniently lets you test it out and see. In the Anki section of the settings, click on “Configure Anki card templates”, and you can select an option from the drop down and hit “Test” to see what the output is.</p><p><img src="/images/20210703/yomichan_templates.png" alt="Anki templates in yomichan" loading="lazy"></p><p>While some of the results are just text (such as Expression), others will return html. If you want to see what that looks like, you can try pasting that into your note style within Anki.</p><p>Additionally, you have the ability to edit that giant block of code in the templates settings to customize the data even further. I actually edited it in quite a few places for my template. If you’re interested in my edited version, you can get that from this <a href="https://gist.github.com/cademcniven/12741d50624611b9a2a377708fc21a45">github gist</a>.</p><p>Next you’ll need to edit the fields of your note type in your Animebook Chrome extension settings.</p><p><img src="/images/20210703/animebook_anki_fields.png" alt="Animebook anki fields" loading="lazy"></p><p>An important detail to consider here, is how to handle the forvo-word-audio. Personally, I don’t think forvo audio is as good as the audio that comes from Yomichan. That’s why I have Yomichan import word audio, and Animebook will only add audio if that field is empty (if Yomichan had no audio for it). This is a good way of providing backup audio when there otherwise would be none.</p><p>If you want to use forvo audio, make sure you set the “Vocab Field” on the top right.</p><p>Further down in the settings, make sure you select “No” for autoplaying audio after creating a card, otherwise… it will auto play audio every time you create a card.</p><p><img src="/images/20210703/autoplay_audio.png" alt="autoplay audio animebook" loading="lazy"></p><h2>Pitch Accent Colors</h2><p>As of an update on 7/10/2021, my Yomichan settings will now export information necessary to color-code the target word similar to <a href="https://www.migaku.io/tools-guides/migaku-japanese/manual/#pitch-accent-coloring">Migaku Japanese</a>. However, my implementation does so using 0 javascript.</p><p>If you downloaded my settings, then you already have this functionality. If you want to add it manually (or use your own note type), you can get the template code for this from this <a href="https://gist.github.com/cademcniven/12741d50624611b9a2a377708fc21a45">github gist</a>.</p><p>By default, the words won’t be colored at all (unless you are using my note type). This is to give the user the most flexibility over how they want to style words based on pitch. By default, the target word will be wrapped in a <code>span</code> element with a class signifying what pitch pattern it is. The possible classes are:</p><ul><li>.heiban</li><li>.atamadaka</li><li>.nakadaka</li><li>.odaka</li><li>.kifuku</li></ul><p>For more details on how to style these, check out the pitch accent color section in <a href="/projects/notetype2">Eminent Note Type V2</a>.</p><h2>Troubleshooting</h2><h3>Bad card formatting that looks different from the demo gif</h3><p>If the card format looks misaligned or just weird in general, it could be due to the custom Anki Card Template from Yomichan not transferring properly when importing my Yomichan settings.</p><p><img src="/images/20210703/yomichan_template_code.png" alt="Yomichan template code" loading="lazy"></p><p>If this is the case, then you can replace that code with the code from this <a href="https://gist.github.com/cademcniven/12741d50624611b9a2a377708fc21a45">github gist</a>.</p><h3>Can’t get word to be colored by pitch accent</h3><p>This uses a feature that is somewhat new in Yomichan, so if you have an older version you might need to update in order to get this to work properly.</p><h2>Changelog</h2><ul><li>7/7/2021<ul><li>Removed KireiCake dictionary recommendation (see this <a href="https://github.com/FooSoft/yomichan/issues/1608">github issue</a>).</li></ul></li><li>7/10/2021<ul><li>Updated pitch accent graphs so they will no longer appear in a numbered list when there’s more than 1 correct pronunciation.</li><li>Added JapanesePod101 (Alternative) to audio sources in my Yomichan settings.</li><li>Added pitch accent coloring to target word.</li><li>Updated note style (see <a href="/projects/notetype2">Eminent Note Type V2</a> for more details)</li></ul></li></ul></div></main></body></html>